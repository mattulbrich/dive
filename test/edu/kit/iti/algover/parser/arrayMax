method max(a : array<int>, n: int) returns (m : int)
  requires n > 0
  ensures greater: (forall i:int :: 0 <= i && i < n ==> a[m] > a[i])
  ensures witness: (exists i:int :: 0 <= i && i < n && a[m] = a[i])
  decreases 0
{
  var i : int;

  n := n+1;
  m := a[0];
  i := 0;
  while i < n
    invariant greater: (forall j:int :: 0 <= j && i < i ==> a[m] > a[j])
    invariant witness: (exists j:int :: 0 <= j && j < i && a[m] = a[j])
    decreases n - i
  {
    if a[i] > a[m]
      m := i;
    i := i+1;
  }
}


